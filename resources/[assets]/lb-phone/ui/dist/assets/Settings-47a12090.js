import{u as v,r as N,j as i,m as R,S as L,a as e,I as F,L as s,P as d,au as he,av as pe,aw as Ee,ax as ve,ay as de,F as C,C as _,b as k,az as ge,t as I,W as D,e as X,f as M,aA as Se,H as Pe,aB as ne,aC as le,aD as Q,A as Ne,x as j,aE as ue,X as Te,aF as Ae,aG as Ie,aH as Ce,aI as ce,aJ as re,M as fe,v as H,B as ee,i as se,aK as Ge,s as Oe,w as z,aL as ke,aM as _e,aN as ye,o as be,aO as Re,aP as Le,aQ as Ue,aR as Be,aS as we,aT as De,z as Me,g as Fe,d as Ke}from"./index-569b241b.js";import{S as Z}from"./Slider-81509870.js";import{S as x}from"./Switch-55d464d2.js";function Ve(o){const a=v(d.Settings),n=v(k),l=v(ge),[u,c]=N.useState(!1),P=["#39334d","#465281","#87855e","#4b6a45","#702e2e","picker"];return i(R.div,{...L("right","display"),className:"animation-container display",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>u?c(!1):o.setPage([]),children:[e(F,{}),s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:s("APPS.SETTINGS.DISPLAY_BRIGHTNESS")}),e("div",{})]}),e("div",{style:{marginTop:"2rem"}}),e("div",{className:"category-title",children:s("APPS.SETTINGS.APPEARANCE")}),i("section",{children:[e("div",{className:"settings-item",children:e("div",{className:"appearance-container",children:e("div",{className:"appearance-switches",children:["light","dark"].map((r,S)=>{var T;return i("div",{className:"mode",onClick:()=>{d.Settings.patch({display:{...a.display,theme:r}})},children:[e("img",{src:`./assets/img/${r}-mode-placeholder.webp`,alt:"Theme"}),e("div",{className:"mode-text",children:s(`APPS.SETTINGS.${r.toUpperCase()}`)}),e(he,{checked:((T=a==null?void 0:a.display)==null?void 0:T.theme)===r})]},S)})})})}),i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.AUTOMATIC")})}),e("div",{className:"setting-value",children:e(x,{checked:a.display.automatic,onChange:()=>{d.Settings.patch({display:{...a.display,automatic:!a.display.automatic}})}})})]})]}),e("div",{className:"category-title",children:s("APPS.SETTINGS.BRIGHTNESS")}),e("section",{children:i("div",{className:"settings-item",children:[e(pe,{className:"clickable",onClick:()=>{let r=a.display.brightness,S=r>.1?r-.1:.1;d.Settings.set({...d.Settings.value,display:{...a.display,brightness:S}})}}),e(Z,{onChange:r=>{d.Settings.patch({display:{...a.display,brightness:r}})},value:a.display.brightness,id:"brightness",min:.1,max:1,step:.01}),e(Ee,{className:"clickable",onClick:()=>{let r=a.display.brightness,S=r<1?r+.1:1;d.Settings.set({...d.Settings.value,display:{...a.display,brightness:S}})}})]})}),e("div",{className:"category-title",children:s("APPS.SETTINGS.PHONE_SCALE")}),e("section",{children:i("div",{className:"settings-item",children:[e(ve,{className:"clickable",onClick:()=>{if(l)return;let r=a.display.size,S=r>.5?r-.1:.5;d.Settings.patch({display:{...a.display,size:S}})}}),e(Z,{onChange:r=>{l||d.Settings.patch({display:{...a.display,size:r}})},value:a.display.size,id:"phone-scale-slider",min:.5,max:1.1,step:.1}),e(de,{className:"clickable",onClick:()=>{if(l)return;let r=a.display.size,S=r<1.1?r+.1:1.1;d.Settings.patch({display:{...a.display,size:S}})}})]})}),n.allowFrameColorChange&&i(C,{children:[e("div",{className:"category-title",children:s("APPS.SETTINGS.FRAME_COLOR")}),e("section",{children:e("div",{className:"settings-item",children:e("div",{className:"colors",children:P.map((r,S)=>{let T=r==="picker";return e("div",{className:"color",style:{backgroundImage:T&&"url(./assets/img/icons/picker.png)",boxShadow:!T&&`inset  0 0.1em 5em ${r}, 0 0 0 0.2em hsl(254, 30%, 85%)`},"data-active":a.display.frameColor===r,onClick:()=>{if(T){_.ColorPicker.set({onSelect:E=>{d.Settings.patch({display:{...a.display,frameColor:E}})}});return}d.Settings.patch({display:{...a.display,frameColor:r}})}},S)})})})})]})]})}function xe(o){var E,m,f,U,G,A,b,K,W,B;const a=v(k),n=v(d.Settings),[l,u]=N.useState(!1),[c,P]=N.useState(!1),[r,S]=N.useState(null);let T=c?"notificationsBrowsingTones":l?"notificationsInApp":"notifications";return i(R.div,{...L("right",T),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{if(c)return P(!1);if(l)return u(!1);o.setPage([])},children:[e(F,{}),l?s("APPS.SETTINGS.BACK"):s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:l?s(`APP_NAMES.${r}`,(E=a.apps[r])==null?void 0:E.name):s("APPS.SETTINGS.NOTIFICATIONS")}),e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),l?c?i(C,{children:[e("div",{className:"category-title",children:s("APPS.SETTINGS.TEXT_TONE")}),e("section",{children:Object.keys((m=a==null?void 0:a.sound)==null?void 0:m.notifications).sort((h,p)=>h.localeCompare(p,void 0,{numeric:!0,sensitivity:"base"})).map((h,p)=>{var t,O,y,w,V;const g=((O=(t=n.notifications)==null?void 0:t[r])==null?void 0:O.texttone)??((w=(y=k.value.sound)==null?void 0:y.appNotifications)==null?void 0:w[r])??((V=n==null?void 0:n.sound)==null?void 0:V.texttone);return e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{var Y,$,ie,te,ae;if(d.Settings.set({...d.Settings.value,notifications:{...n.notifications,[r]:{...n.notifications[r],texttone:h}}}),((Y=k.value.sound)==null?void 0:Y.system)==="nui"){const me=((ae=(te=(ie=($=k.value)==null?void 0:$.sound)==null?void 0:ie.notifications)==null?void 0:te[h])==null?void 0:ae.name)??"1";d.SoundManager.set({url:`./assets/sound/notifications/${me}.mp3`,override:!0})}else I("previewSound",{soundType:"texttone",sound:h})},children:i("div",{className:"setting",children:[h===g?e(D,{className:"checkmark"}):e(D,{className:"checkmark hidden"}),e("div",{className:"title",children:X(h)})]})},p)})})]}):i(C,{children:[e("div",{className:"category-title",children:s("APPS.SETTINGS.NOTIFICATIONS")}),i("section",{children:[i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.ALLOW_NOTIFICATIONS")})}),e("div",{className:"setting-value",children:e(x,{onChange:()=>{var h;d.Settings.set({...d.Settings.value,notifications:{...n.notifications,[r]:{...n.notifications[r],enabled:!((h=n.notifications[r])!=null&&h.enabled)}}})},checked:((U=(f=n.notifications)==null?void 0:f[r])==null?void 0:U.enabled)??!0})})]}),i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.SOUNDS")})}),e("div",{className:"setting-value",children:e(x,{onChange:()=>{var h,p,g;d.Settings.set({...d.Settings.value,notifications:{...n.notifications,[r]:{...(h=n.notifications)==null?void 0:h[r],sound:!((g=(p=n.notifications)==null?void 0:p[r])!=null&&g.sound)}}})},checked:((A=(G=n.notifications)==null?void 0:G[r])==null?void 0:A.sound)??!0})})]})]}),((K=(b=n.notifications)==null?void 0:b[r])==null?void 0:K.sound)!==!1&&e("section",{children:i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>P(!0),children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.TEXT_TONE")})}),i("div",{className:"setting-value",children:[e("div",{className:"value",children:X((B=(W=n.notifications)==null?void 0:W[r])==null?void 0:B.texttone)??s("APPS.SETTINGS.DEFAULT")}),e(M,{className:"chevron"})]})]})})]}):i(C,{children:[e("div",{className:"category-title",children:s("APPS.SETTINGS.NOTIFICATIONS")}),e("section",{style:{marginBottom:"4rem"},children:Object.keys(a.apps).filter(h=>!!a.apps[h]).filter(h=>{var p;return Se(h)||((p=a.apps[h])==null?void 0:p.removable)===!1}).sort((h,p)=>s(`APP_NAMES.${h}`,a.apps[h].name).localeCompare(s(`APP_NAMES.${p}`,a.apps[p].name))).map(h=>{var p,g;return i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{S(h),u(!0)},children:[i("div",{className:"setting",children:[e("img",{src:((p=a.apps[h])==null?void 0:p.icon)??`./assets/img/icons/apps/${h}.jpg`}),e("div",{className:"title",children:s(`APP_NAMES.${h}`,(g=a.apps[h])==null?void 0:g.name)})]}),e("div",{className:"setting-value",children:e(M,{className:"chevron"})})]},h)})})]})]})}function He(o){var S;const a=v(d.Settings),n=v(k),l=v(Ne),[u,c]=N.useState(!1),[P,r]=N.useState(null);return N.useEffect(()=>{if(Pe("Settings"))return ne.set(!1),()=>{ne.set(!0)}},[l==null?void 0:l.active]),N.useEffect(()=>{u||I("stopPreviewingSound")},[u]),i(R.div,{...L("right",u?"soundBrowsingTunes":"sound"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{u?c(!1):o.setPage([]),d.SoundManager.reset()},children:[e(F,{}),u?s("APPS.SETTINGS.BACK"):s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:u?P==="ringtone"?s("APPS.SETTINGS.RINGTONE"):s("APPS.SETTINGS.TEXT_TONE"):s("APPS.SETTINGS.SOUND_HAPTICS")}),e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),u?i(C,{children:[e("div",{className:"category-title",children:P==="ringtone"?s("APPS.SETTINGS.RINGTONE"):s("APPS.SETTINGS.TEXT_TONE")}),e("section",{children:Object.keys((S=n==null?void 0:n.sound)==null?void 0:S[P==="ringtone"?"ringtones":"notifications"]).sort((T,E)=>T.localeCompare(E,void 0,{numeric:!0,sensitivity:"base"})).map((T,E)=>e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{var m,f,U,G,A;if(d.Settings.set({...d.Settings.value,sound:{...d.Settings.value.sound,[P]:T}}),((m=k.value.sound)==null?void 0:m.system)==="nui"){const b=((A=(G=(U=(f=k.value)==null?void 0:f.sound)==null?void 0:U[P==="ringtone"?"ringtones":"notifications"])==null?void 0:G[T])==null?void 0:A.name)??"1";d.SoundManager.set({url:`./assets/sound/${P==="ringtone"?"ringtones":"notifications"}/${b}.mp3`,timeout:P==="ringtone"?5e3:null,loop:P==="ringtone",override:!0})}else I("previewSound",{soundType:P,sound:T})},children:i("div",{className:"setting",children:[T==a.sound[P]?e(D,{className:"checkmark"}):e(D,{className:"checkmark hidden"}),e("div",{className:"title",children:X(T)})]})},E))})]}):i(C,{children:[e("div",{className:"category-title",children:s("APPS.SETTINGS.RINGTONE_VOLUME")}),e("section",{children:i("div",{className:"settings-item",children:[e(le,{}),e(Z,{onChange:T=>{T!==void 0&&d.Settings.patch({sound:{...d.Settings.value.sound,volume:T}})},value:a.sound.volume!==void 0?a.sound.volume:.5,min:0,max:1,step:.05}),e(Q,{})]})}),e("div",{className:"category-title",children:s("APPS.SETTINGS.CALL_VOLUME")}),e("section",{children:i("div",{className:"settings-item",children:[e(le,{}),e(Z,{onChange:T=>{d.Settings.set({...d.Settings.value,sound:{...d.Settings.value.sound,callVolume:T}})},value:a.sound.callVolume!==void 0?a.sound.callVolume:.5,min:0,max:1,step:.05}),e(Q,{})]})}),e("div",{className:"category-title",children:s("APPS.SETTINGS.SOUND_HAPTICS_PATTERNS")}),i("section",{children:[i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{r("ringtone"),c(!0)},children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.RINGTONE")})}),i("div",{className:"setting-value",children:[e("div",{className:"value",children:X(a.sound.ringtone)}),e(M,{className:"chevron"})]})]}),i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{r("texttone"),c(!0)},children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.TEXT_TONE")})}),i("div",{className:"setting-value",children:[e("div",{className:"value",children:X(a.sound.texttone)}),e(M,{className:"chevron"})]})]})]})]})]})}function We(o){const{settingsSections:a}=N.useContext(J),n=v(d.Settings),l=v(k),u=8.25*1e3*1e3;return N.useEffect(()=>{var r,S;if(!l.apps)return;let c=Object.keys(l.apps).filter(T=>{var E;return((E=l.apps[T])==null?void 0:E.removable)===!1}).reduce((T,E)=>{var m;return T+(((m=l.apps[E])==null?void 0:m.size)??0)},0),P=n.storage.used-(c+u);k.patch({apps:{...l.apps,Photos:{...l.apps.Photos,size:((S=(r=l.apps)==null?void 0:r.Photos)==null?void 0:S.size)??0+P}}})},[]),i(R.div,{...L("right","storage"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{var c;o.setPage((c=a==null?void 0:a[2])==null?void 0:c[0].options)},children:[e(F,{}),s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:s("APPS.SETTINGS.STORAGE")}),e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),e("section",{children:i("div",{className:"settings-item",style:{cursor:"pointer"},children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.USED")})}),e("div",{className:"setting-value",children:i("div",{className:"value",children:[j(n.storage.used/1e3/1e3,2)," GB ",s("APPS.SETTINGS.OF")," ",j(n.storage.total/1e3/1e3,0)," GB"]})})]})}),e("section",{children:Object.keys(l.apps).filter(c=>!!l.apps[c]).filter(c=>{var P;return Se(c)||((P=l.apps[c])==null?void 0:P.removable)===!1}).sort((c,P)=>{var r,S;return(((r=l.apps[P])==null?void 0:r.size)??0)-(((S=l.apps[c])==null?void 0:S.size)??0)}).map(c=>{var P,r,S,T,E,m;return i("div",{className:"settings-item",style:{cursor:"pointer"},children:[i("div",{className:"setting",children:[e("img",{src:((P=l.apps[c])==null?void 0:P.icon)??`./assets/img/icons/apps/${c}.jpg`,onError:f=>f.currentTarget.src="./assets/img/icons/apps/unkown.png"}),e("div",{className:"title",children:s(`APP_NAMES.${c}`,l.apps[c].name)})]}),e("div",{className:"setting-value",children:e("div",{className:"value",children:((r=l.apps[c])==null?void 0:r.size)??0>1e6?j(((S=l.apps[c])==null?void 0:S.size)??0/1e6,2)+" GB":((T=l.apps[c])==null?void 0:T.size)??0>1e3?j(((E=l.apps[c])==null?void 0:E.size)??0/1e3,2)+" MB":((m=l.apps[c])==null?void 0:m.size)??"0 KB"})})]},c)})})]})}function $e(o){const a=v(d.Settings),[n,l]=N.useState(!1),u=v(k);return i(R.div,{...L("right",n?"browsingWallpapers":"wallpaper"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{n?l(!1):o.setPage([])},children:[e(F,{}),n?s("APPS.SETTINGS.WALLPAPER"):s("APPS.SETTINGS.TITLE")]}),i("div",{className:"title",children:[n?s("APPS.SETTINGS.WALLPAPERS"):s("APPS.SETTINGS.WALLPAPER")," "]}),e("div",{})]}),n?i("div",{className:"wallpapers-container",children:[e("div",{className:"wallpaper add",onClick:()=>{var c,P,r;_.Gallery.set({allowExternal:(r=(P=(c=k)==null?void 0:c.value)==null?void 0:P.AllowExternal)==null?void 0:r.Other,onSelect:S=>{d.Settings.patch({wallpaper:{...a.wallpaper,background:S.src}})}})},children:e(de,{})}),a.wallpaper.background.includes("http")&&e("div",{className:"wallpaper active",style:{backgroundImage:`url(${a.wallpaper.background})`}}),Object.keys(u.wallpapers).map((c,P)=>e(ze,{wallpaper:c,selected:a.wallpaper.background,theme:a.display.theme,cb:()=>{d.Settings.patch({wallpaper:{...a.wallpaper,background:c}})}},P))]}):e(je,{setExploringWallpapers:l})]})}const ze=({wallpaper:o,selected:a,cb:n})=>{const[l,u]=N.useState("");return N.useEffect(()=>{ue(o,c=>u(c))},[]),e("div",{className:Te("wallpaper",a===o&&"active"),style:{backgroundImage:`url(${l})`},onClick:()=>n()})},je=o=>{var u;const[a,n]=N.useState(""),l=v(d.Settings);return N.useEffect(()=>{ue(l.wallpaper.background,c=>n(c))},[]),i("section",{children:[i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>o.setExploringWallpapers(!0),children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.CHOOSE_NEW_WALLPAPER")})}),e("div",{className:"setting-value",children:e(M,{className:"chevron"})})]}),e("div",{className:"settings-item",children:i("div",{className:"wallpapers",children:[e("div",{className:"preview",style:{backgroundImage:`url(${a})`},children:i("div",{className:"lockscreen-container",children:[e(Ae,{}),e(Ie,{layout:((u=l.lockscreen)==null?void 0:u.layout)??1})]})}),e("div",{className:"preview",style:{backgroundImage:`url(${a})`},children:i("div",{className:"settings-homescreen-container",children:[e("div",{className:"settings-homescreen-apps",children:l.apps[1].filter(c=>!Ce(c)).slice(0,24).map(c=>{let P=k.value.apps[c],r=(P==null?void 0:P.icon)??`./assets/img/icons/apps/${c}.jpg`;return i("div",{className:"settings-homescreen-app",children:[e("img",{src:r,onError:S=>S.currentTarget.src="./assets/img/icons/apps/unkown.png"}),e("div",{className:"app-name",children:c})]})})}),e("div",{className:"favourite-apps",children:l.apps[0].map(c=>{let P=k.value.apps[c],r=(P==null?void 0:P.icon)??`./assets/img/icons/apps/${c}.jpg`;return e("div",{className:"settings-homescreen-app",children:e("img",{src:r,onError:S=>S.currentTarget.src="./assets/img/icons/apps/unkown.png"})})})})]})})]})}),i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.BLUR_HOMESCREEN")})}),e("div",{className:"setting-value",children:e(x,{checked:l.wallpaper.blur,onChange:()=>{d.Settings.patch({wallpaper:{...l.wallpaper,blur:!l.wallpaper.blur}})}})})]})]})};function Xe(o){const a=N.useRef(null),n=v(d.Settings),[l,u]=N.useState([]),[c,P]=N.useState(!1),[r,S]=N.useState([]),[T,E]=N.useState(!1),m=G=>{G=="backspace"?u(A=>A.slice(0,-1)):u(A=>{if(A.length===4)return A;let b=[...A,G];return b.length===4&&(T?I("Security",{action:"setPin",oldPin:r.join(""),pin:b.join("")}).then(K=>{if(!K){_.PopUp.set({title:s("APPS.SETTINGS.PIN_CODE_ERROR.TITLE"),description:s("APPS.SETTINGS.PIN_CODE_ERROR.WRONG"),buttons:[{title:s("APPS.SETTINGS.PIN_CODE_ERROR.OK")}]}),u([]);return}d.Settings.patch({security:{...n.security,pinCode:!0}}),E(!1),u([])}):I("Security",{action:"verifyPin",pin:b.join("")},!0).then(K=>{K?(P(!0),S(b),u([])):(a.current.className=`pin-circles wrong ${n.display.theme=="dark"?"light":"dark"}`,setTimeout(()=>{a.current.className=`pin-circles ${n.display.theme=="dark"?"light":"dark"}`,u([])},350))})),b})},f=G=>{G?I("Security",{action:"setFaceId",pin:r.join("")},!0).then(A=>{A&&d.Settings.patch({security:{...d.Settings.value.security,faceId:!0}})}):I("Security",{action:"removeFaceId",pin:r.join("")},!0).then(A=>{A&&d.Settings.patch({security:{...d.Settings.value.security,faceId:!1}})})},U=()=>{I("Security",{action:"removePin",pin:l.join("")},!0).then(G=>{G&&d.Settings.patch({security:{pinCode:!1,faceId:!1}})})};return i(R.div,{...L("right","passcode"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>o.setPage([]),children:[e("i",{className:"fal fa-chevron-left"}),c||!n.security.pinCode?s("APPS.SETTINGS.BACK"):s("CANCEL")]}),e("div",{className:"title",children:c||!n.security.pinCode?s("APPS.SETTINGS.FACE_ID_PASSWORD"):s("APPS.SETTINGS.ENTER_PASSCODE")}),e("div",{})]}),c||!n.security.pinCode?e(C,{children:T?i("div",{className:"passcode-container",children:[i("div",{className:"pin",children:[s("APPS.SETTINGS.ENTER_PASSCODE"),e(ce,{pin:l,dark:n.display.theme==="light",Ref:a})]}),e("div",{className:"numbers",children:e(re,{cb:m})})]}):i(C,{children:[e("div",{style:{marginTop:"0.5rem"}}),e("div",{className:"category-title",children:s("APPS.SETTINGS.FACE_ID")}),e("section",{children:n.security.faceId?e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{_.PopUp.set({title:s("APPS.SETTINGS.DISABLE_FACE_ID_POPUP.TITLE"),description:s("APPS.SETTINGS.DISABLE_FACE_ID_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.DISABLE_FACE_ID_POPUP.CANCEL")},{title:s("APPS.SETTINGS.DISABLE_FACE_ID_POPUP.CONFIRM"),color:"red",cb:()=>f(!1)}]})},children:e("div",{className:"setting",children:e("div",{className:"title red",children:s("APPS.SETTINGS.RESET_FACE_ID")})})}):e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{n.security.pinCode&&_.PopUp.set({title:s("APPS.SETTINGS.ENABLE_FACE_ID_POPUP.TITLE"),description:s("APPS.SETTINGS.ENABLE_FACE_ID_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.ENABLE_FACE_ID_POPUP.CANCEL")},{title:s("APPS.SETTINGS.ENABLE_FACE_ID_POPUP.CONFIRM"),cb:()=>f(!0)}]})},children:e("div",{className:"setting",children:e("div",{className:Te("title",n.security.pinCode?"blue":"grey"),children:s("APPS.SETTINGS.ENABLE_FACE_ID")})})})}),e("div",{className:"category-title",children:s("APPS.SETTINGS.PIN_CODE")}),e("section",{children:n.security.pinCode?i(C,{children:[e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{_.PopUp.set({title:s("APPS.SETTINGS.DISABLE_PIN_POPUP.TITLE"),description:s("APPS.SETTINGS.DISABLE_PIN_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.DISABLE_PIN_POPUP.CANCEL")},{title:s("APPS.SETTINGS.DISABLE_PIN_POPUP.CONFIRM"),color:"red",cb:U}]})},children:e("div",{className:"setting",children:e("div",{className:"title red",children:s("APPS.SETTINGS.TURN_PASSCODE_OFF")})})}),e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>E(!0),children:e("div",{className:"setting",children:e("div",{className:"title blue",children:s("APPS.SETTINGS.CHANGE_PASSCODE")})})})]}):i(C,{children:[e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>E(!0),children:e("div",{className:"setting",children:e("div",{className:"title blue",children:s("APPS.SETTINGS.TURN_PASSCODE_ON")})})}),e("div",{className:"settings-item",children:e("div",{className:"setting",children:e("div",{className:"title grey",children:s("APPS.SETTINGS.CHANGE_PASSCODE")})})})]})})]})}):i("div",{className:"passcode-container",children:[i("div",{className:"pin",children:[s("APPS.SETTINGS.ENTER_PASSCODE"),e(ce,{pin:l,dark:n.display.theme==="light",Ref:a})]}),e("div",{className:"numbers",children:e(re,{cb:m})})]})]})}function Ye(o){var E;const a=v(d.Settings),n=v(d.PhoneNumber),[l,u]=N.useState(!1),[c,P]=N.useState(!1),[r,S]=N.useState([]);N.useEffect(()=>{Pe("Settings")&&I("Phone",{action:"getBlockedNumbers"},fe.Blocked).then(m=>{if(!m)return H("warning","Failed to get blocked numbers, no response");S(m)})},[]);const T=m=>{I("Phone",{action:"toggleBlock",number:m,blocked:!1},!0).then(f=>{if(!f)return H("warning","Failed to unblock number",m);S(U=>U.filter(G=>G!==m))})};return i(R.div,{...L("right",l?"blocked":"phone"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>l?u(!1):o.setPage([]),children:[e(F,{}),l?s("APPS.SETTINGS.BACK"):s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:l?s("APPS.SETTINGS.BLOCKED_CONTACTS"):s("APPS.SETTINGS.PHONE")}),l?e("div",{className:"value",onClick:()=>P(m=>!m),children:c?s("APPS.SETTINGS.DONE"):s("APPS.SETTINGS.EDIT")}):e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),l?e(C,{children:e("section",{children:r.map((m,f)=>i("div",{className:"settings-item",children:[i("div",{className:"setting",children:[c?e(ee,{className:"remove",onClick:()=>{_.PopUp.set({title:s("APPS.SETTINGS.UNBLOCK_POPUP.TITLE"),description:s("APPS.SETTINGS.UNBLOCK_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.UNBLOCK_POPUP.CANCEL")},{title:s("APPS.SETTINGS.UNBLOCK_POPUP.CONFIRM"),color:"red",cb:()=>{T(m)}}]})}}):e(ee,{className:"hidden"}),e("div",{className:"title",children:se(m)})]}),e("div",{className:"setting-value"})]},f))})}):i(C,{children:[e("section",{children:i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.MY_NUMBER")})}),i("div",{className:"setting-value",children:[se(n),e(Ge,{onClick:()=>Oe(n)})]})]})}),i("section",{children:[i("div",{className:"settings-item",children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.SHOW_CALLER_ID")})}),e("div",{className:"setting-value",children:e(x,{onChange:()=>{var m;d.Settings.patch({phone:{...a.phone,showCallerId:!((m=a.phone)!=null&&m.showCallerId)}})},checked:((E=a.phone)==null?void 0:E.showCallerId)??!1})})]}),i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>u(!0),children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.BLOCKED_CONTACTS")})}),e("div",{className:"setting-value",children:e(M,{className:"chevron"})})]})]})]})]})}function Ze({setPage:o}){const a=v(d.PhoneNumber),n=v(z.MISC.BACKUPS),[l,u]=N.useState(!1);return N.useEffect(()=>{n||I("Backup",{action:"get"},[{number:a},{number:"13144122"}]).then(c=>{if(!c)return H("warning","Failed to get backups from the server");z.MISC.BACKUPS.set(c)})},[]),i(R.div,{...L("right","profile"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>o([]),children:[e(F,{}),s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:s("APPS.SETTINGS.CLOUD_BACKUP")}),e("div",{className:"value",onClick:()=>u(c=>!c),children:l?s("APPS.SETTINGS.DONE"):s("APPS.SETTINGS.EDIT")})]}),e("div",{style:{marginTop:"0.5rem"}}),e("div",{className:"category-title",children:s("APPS.SETTINGS.YOUR_PROFILE")}),e("section",{children:i("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>{if(n!=null&&n.find(c=>c.number===a))return _.PopUp.set({title:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.WARNING"),description:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.ALREADY_HAVE"),buttons:[{title:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.OK")}]});_.PopUp.set({title:s("APPS.SETTINGS.SAVE_BACKUP_POPUP.TITLE"),description:s("APPS.SETTINGS.SAVE_BACKUP_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.SAVE_BACKUP_POPUP.CANCEL")},{title:s("APPS.SETTINGS.SAVE_BACKUP_POPUP.CONFIRM"),cb:()=>{I("Backup",{action:"create"},!0).then(c=>{if(!c)return H("warning","Failed to create a backup");z.MISC.BACKUPS.set([{number:a},...n])})}}]})},children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.CREATE_BACKUP")})}),e("div",{className:"setting-value"})]})}),e("div",{className:"category-title",children:s("APPS.SETTINGS.BACKUPS")}),e("section",{children:n==null?void 0:n.map((c,P)=>i("div",{className:"settings-item",style:{cursor:c.number!==a?"pointer":"not-allowed"},"data-disabled":c.number===a&&!l,onClick:()=>{if(c.number===a)return _.PopUp.set({title:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.ERROR"),description:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.SAME_PHONE"),buttons:[{title:s("APPS.SETTINGS.BACKUP_ERROR_POPUP.OK")}]});_.PopUp.set({title:s("APPS.SETTINGS.APPLY_BACKUP_POPUP.TITLE"),description:s("APPS.SETTINGS.APPLY_BACKUP_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.APPLY_BACKUP_POPUP.CANCEL")},{title:s("APPS.SETTINGS.APPLY_BACKUP_POPUP.CONFIRM"),color:"red",cb:()=>{I("Backup",{action:"apply",number:c.number},!0).then(r=>{if(!r)return H("error","Could not apply backup, apply returned false");setTimeout(()=>{_.PopUp.set({title:s("APPS.SETTINGS.SUCCESS"),description:s("APPS.SETTINGS.SUCCESS_TEXT"),buttons:[{title:s("APPS.SETTINGS.OK")}]})},500)})}}]})},children:[i("div",{className:"setting",children:[l&&e(ee,{className:"remove",onClick:r=>{r.stopPropagation(),_.PopUp.set({title:s("APPS.SETTINGS.REMOVE_BACKUP_POPUP.TITLE"),description:s("APPS.SETTINGS.REMOVE_BACKUP_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.REMOVE_BACKUP_POPUP.CANCEL")},{title:s("APPS.SETTINGS.REMOVE_BACKUP_POPUP.CONFIRM"),color:"red",cb:()=>{I("Backup",{action:"delete",number:c.number}).then(S=>{if(!S)return H("error","Could not delete backup");z.MISC.BACKUPS.set(z.MISC.BACKUPS.value.filter(T=>T.number!==c.number))})}}]})}}),e("div",{className:"title",children:se(c.number)})]}),e("div",{className:"setting-value"})]},P))})]})}function q(o,a){if(!o.match(/\d+\.\d+\.\d+/)||!a.match(/\d+\.\d+\.\d+/))return!1;const n=o.split(".").map(Number),l=a.split(".").map(Number);return(n[0]??0)<(l[0]??0)?!0:(n[0]??0)>(l[0]??0)?!1:(n[1]??0)<(l[1]??0)?!0:(n[1]??0)>(l[1]??0)?!1:(n[2]??0)<(l[2]??0)}function qe(o){const{settingsSections:a}=N.useContext(J),n=v(d.Settings);return i(R.div,{...L("right","softwareUpdate"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{var l;return o.setPage((l=a==null?void 0:a[2])==null?void 0:l[0].options)},children:[e(F,{}),s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:s("APPS.SETTINGS.SOFTWARE_UPDATE")}),e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),e("section",{children:i("div",{className:"settings-item",style:{cursor:"pointer"},children:[e("div",{className:"setting",children:e("div",{className:"title",children:s("APPS.SETTINGS.AUTOMATIC_UPDATES")})}),e("div",{className:"setting-value",children:e("div",{className:"value",children:s("APPS.SETTINGS.OFF")})})]})}),q(n.version,n.latestVersion)&&e("section",{children:i("div",{className:"settings-item",style:{flexDirection:"column",alignItems:"inherit",gap:"0.75rem"},children:[i("div",{className:"item-header",children:[e("img",{src:"./assets/img/lbos.webp"}),i("div",{className:"info",children:[e("div",{className:"title",children:n.latestVersion}),e("div",{className:"author",children:e(Je,{})})]})]}),e("div",{className:"item-content",children:"Please tell your server owner to update the phone to the latest version."})]})}),!q(n.version,n.latestVersion)&&i("div",{className:"up-to-date",children:[i("div",{className:"version",children:["V ",n==null?void 0:n.version]}),e("div",{className:"title",children:s("APPS.SETTINGS.UP_TO_DATE")})]})]})}const Je=()=>{const o="abcdefghijklmnopqrstuvwxyz".split("");return i(C,{children:[o[11].toUpperCase(),o[1].toUpperCase()]})};function oe({setPage:o,type:a}){const{settingsSections:n}=N.useContext(J);return i(R.div,{...L("right",a??"system"),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{var l;return o((l=n==null?void 0:n[2])==null?void 0:l[0].options[1][1].options)},children:[e(F,{}),s("APPS.SETTINGS.TITLE")]}),e("div",{className:"title",children:s(`APPS.SETTINGS.${a.toUpperCase()}`)}),e("div",{})]}),e("div",{style:{marginTop:"0.5rem"}}),i("section",{children:[a==="Language"&&e(Qe,{}),a==="Temperature"&&e(es,{})]})]})}const Qe=()=>{const o=v(d.Settings),[a,n]=N.useState([]);return N.useEffect(()=>{I("getLocales",null,ke).then(l=>{l&&n(l)})},[]),N.useEffect(()=>{_e(o.locale)},[o.locale]),i(C,{children:[a.map((l,u)=>e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>d.Settings.patch({locale:l.locale}),children:i("div",{className:"setting",children:[l.locale===o.locale?e(D,{className:"checkmark"}):e(D,{className:"checkmark hidden"}),e("div",{className:"title",children:l.name})]})},u)),";"]})},es=()=>{const o=v(d.Settings);return i(C,{children:[e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>d.Settings.patch({weather:{celcius:!0}}),children:i("div",{className:"setting",children:[o.weather&&o.weather.celcius?e(D,{className:"checkmark"}):e(D,{className:"checkmark hidden"}),e("div",{className:"title",children:s("APPS.SETTINGS.CELCIUS")})]})}),e("div",{className:"settings-item",style:{cursor:"pointer"},onClick:()=>d.Settings.patch({weather:{celcius:!1}}),children:i("div",{className:"setting",children:[o.weather&&o.weather.celcius===!1?e(D,{className:"checkmark"}):e(D,{className:"checkmark hidden"}),e("div",{className:"title",children:s("APPS.SETTINGS.FAHRENHEIT")})]})})]})};const J=N.createContext(null);function as(){var h;const o=v(d.Settings),a=v(k),[n,l]=N.useState(""),[u,c]=N.useState([]),P=v(Ne),[r,S]=N.useState([]),[T,E]=N.useState(null),[m,f]=N.useState(null),[U,G]=N.useState(null),[A,b]=N.useState([]);N.useEffect(()=>{b(p=>{var g;return[[{name:s("APPS.SETTINGS.AIRPLANE_MODE"),icon:e(ye,{className:"orange"}),description:s("APPS.SETTINGS.AIRPLANE_MODE_DESCRIPTION"),switch:!0,value:o.airplaneMode,onChange:()=>d.Settings.patch({airplaneMode:!o.airplaneMode})},{name:s("APPS.SETTINGS.STREAMER_MODE"),icon:e(be,{className:"purple"}),description:s("APPS.SETTINGS.STREAMER_MODE_DESCRIPTION"),switch:!0,value:o.streamerMode,onChange:()=>d.Settings.patch({streamerMode:!o.streamerMode})}],[{name:s("APPS.SETTINGS.NOTIFICATIONS"),description:s("APPS.SETTINGS.NOTIFICATIONS_DESCRIPTION"),icon:e(Re,{className:"red"}),options:e(xe,{setPage:S})},{name:s("APPS.SETTINGS.SOUND_HAPTICS"),description:s("APPS.SETTINGS.SOUND_HAPTICS_DESCRIPTION"),icon:e(Q,{className:"pink"}),options:e(He,{setPage:S})}],[{name:s("APPS.SETTINGS.GENERAL"),description:s("APPS.SETTINGS.GENERAL_DESCRIPTION"),icon:e(Le,{className:"grey"}),notification:q(o.version,o.latestVersion),options:[[{name:s("APPS.SETTINGS.ABOUT"),options:[[{name:s("APPS.SETTINGS.NAME"),value:o.name,input:{type:"name",maxLength:20},cb:(t,O)=>{I("setPhoneName",t)}},{name:s("APPS.SETTINGS.VERSION"),value:o.version},{name:s("APPS.SETTINGS.MODEL_NAME"),value:"LB Phone"},{name:s("APPS.SETTINGS.SERIAL_NUMBER"),value:"DSDWWWSSF3"},{name:s("APPS.SETTINGS.DEVELOPED_BY"),value:"Breze & Loaf Scripts"},{name:s("APPS.SETTINGS.PURCHASE_AT"),value:"https://store.lbscripts.com",isLink:!0}],[{name:s("APPS.SETTINGS.SONGS"),value:"0"},{name:s("APPS.SETTINGS.VIDEOS"),value:0},{name:s("APPS.SETTINGS.PHOTOS"),value:0},{name:s("APPS.SETTINGS.APPLICATIONS"),value:K()},{name:s("APPS.SETTINGS.CAPACITY"),value:`${o.storage.total/1e3/1e3} GB`},{name:s("APPS.SETTINGS.AVAILABLE"),value:`${j((o.storage.total-o.storage.used)/1e3/1e3,1)} GB`}]]},{name:s("APPS.SETTINGS.SOFTWARE_UPDATE"),options:e(qe,{setPage:S}),notification:q(o.version,o.latestVersion)},{name:s("APPS.SETTINGS.PHONE_STORAGE"),options:e(We,{setPage:S})}],[{name:s("APPS.SETTINGS.DATE_TIME"),options:[[{id:"twelveHourClock",name:s("APPS.SETTINGS.24_HOUR_TIME"),switch:!0,value:!o.time.twelveHourClock,onChange:()=>{var t,O,y,w,V;return d.Settings.patch({time:{...(O=(t=d.Settings)==null?void 0:t.value)==null?void 0:O.time,twelveHourClock:!((V=(w=(y=d.Settings)==null?void 0:y.value)==null?void 0:w.time)!=null&&V.twelveHourClock)}})}}],[{name:s("APPS.SETTINGS.SET_AUTOMATICALLY"),switch:!0,value:!0,disabled:!0},{name:s("APPS.SETTINGS.TIME_ZONE"),value:Intl.DateTimeFormat().resolvedOptions().timeZone??"Unknown"}]]},{name:s("APPS.SETTINGS.LANGUAGE_REGION"),options:[[{name:s("APPS.SETTINGS.LANGUAGE"),value:s("LABEL"),options:e(oe,{type:"Language",setPage:S})}],[{name:s("APPS.SETTINGS.TEMPERATURE"),value:o.weather&&o.weather.celcius?"C":"F",options:e(oe,{type:"Temperature",setPage:S})}]]}],[{name:s("APPS.SETTINGS.RESET_POPUP.TITLE"),onClick:()=>{_.PopUp.set({title:s("APPS.SETTINGS.RESET_POPUP.TITLE"),description:s("APPS.SETTINGS.RESET_POPUP.TEXT"),buttons:[{title:s("APPS.SETTINGS.RESET_POPUP.CANCEL")},{title:s("APPS.SETTINGS.RESET_POPUP.CONFIRM"),color:"red",cb:()=>I("Security",{action:"factoryReset"})}]})}}]]},{name:s("APPS.SETTINGS.DISPLAY_BRIGHTNESS"),description:s("APPS.SETTINGS.DISPLAY_BRIGHTNESS_DESCRIPTION"),icon:e(Ue,{className:"blue"}),options:e(Ve,{setPage:S})},{name:s("APPS.SETTINGS.WALLPAPER"),description:s("APPS.SETTINGS.WALLPAPER_DESCRIPTION"),icon:e(Be,{className:"lightblue"}),options:e($e,{setPage:S})},{name:s("APPS.SETTINGS.FACE_ID_PASSWORD"),description:s("APPS.SETTINGS.FACE_ID_PASSWORD_DESCRIPTION"),icon:e(we,{className:"green"}),options:e(Xe,{setPage:S})},{name:s("APPS.SETTINGS.BATTERY"),description:s("APPS.SETTINGS.BATTERY_DESCRIPTION"),icon:e(De,{className:"green"})}],[{name:s("APPS.SETTINGS.PHONE"),description:s("APPS.SETTINGS.PHONE_DESCRIPTION"),icon:((g=a.apps.Phone)==null?void 0:g.icon)??"./assets/img/icons/apps/Phone.jpg",color:"green",options:e(Ye,{setPage:S}),last:!0}]]})},[o]);const K=()=>{let p=0;return o.apps.forEach(g=>{g.forEach(t=>{p++})}),p},W=N.useRef(!0),B=N.useRef(!1);return N.useEffect(()=>{if(W.current){W.current=!1;return}B!=null&&B.current||(B.current=!0)},[o]),N.useEffect(()=>()=>{B!=null&&B.current&&(H("info","Settings","Changes detected, saving settings",d.Settings.value),I("setSettings",d.Settings.value),B.current=!1)},[P==null?void 0:P.active]),N.useEffect(()=>{if(n.length>0){let p=A.map(g=>g.filter(t=>{var O,y;return(O=t.name)!=null&&O.toLowerCase().includes(n.toLowerCase())?!0:t.options&&((y=t.options)!=null&&y.name)?t.options.filter(w=>{var V;if((V=w.name)!=null&&V.toLowerCase().includes(n.toLowerCase()))return!0;if(w.options)return w.options.filter(Y=>{var $;if(($=Y.name)!=null&&$.toLowerCase().includes(n.toLowerCase()))return!0})}):!1}));c(p)}else c([])},[n]),e(J.Provider,{value:{settingsSections:A},children:e("div",{className:"settings-container",children:r.length===0?i(R.div,{...L("left","home"),className:"animation-container",children:[e("div",{className:"title default",style:((h=o==null?void 0:o.display)==null?void 0:h.theme)==="dark"?{color:"#ffffff"}:{color:"#000000"},children:s("APPS.SETTINGS.TITLE")}),e(Me,{placeholder:s("SEARCH"),onChange:p=>l(p.target.value)}),u.length>0?e("section",{children:u.map((p,g)=>e(N.Fragment,{children:p.map((t,O)=>i("div",{className:"settings-item","data-clickable":!!(t.options||t.onClick),onClick:()=>{if(t.onClick)return t.onClick();t.options&&(S(t.options),E(t.name))},children:[i("div",{className:"setting",children:[(t==null?void 0:t.icon)&&(typeof t.icon=="string"?e("img",{src:t.icon}):t.icon),i("div",{className:"setting-info",children:[e("div",{className:"title",children:t.name}),t.description&&e("div",{className:"description",children:t.description})]})]}),i("div",{className:"setting-value",children:[t.switch&&e(x,{onChange:t.onChange,checked:t.value,disabled:t.disabled??!1}),t.value&&!t.switch&&e("div",{className:"value",children:t.value}),t.options&&e(M,{className:"chevron"})]})]},O))},g))}):i(C,{children:[i("div",{className:"profile",onClick:()=>S(e(Ze,{setPage:S})),children:[o.avatar?e("div",{className:"avatar","data-hasavatar":"true",style:{backgroundImage:`url(${o.avatar})`}}):e("div",{className:"avatar",children:Fe(o.name)}),i("div",{className:"profile-info",children:[e("div",{className:"name",children:o.name}),e("div",{className:"info",children:s("APPS.SETTINGS.CLOUD_BACKUP")})]}),e(M,{className:"chevron"})]}),A.map((p,g)=>e("section",{"data-last":g===A.length-1,children:p.map((t,O)=>i("div",{className:"settings-item","data-clickable":!!(t.options||t.onClick),onClick:()=>{if(t.onClick)return t.onClick();t.options&&(S(t.options),E(t.name))},children:[i("div",{className:"setting",children:[(t==null?void 0:t.icon)&&(typeof t.icon=="string"?e("img",{src:t.icon}):t.icon),i("div",{className:"setting-info",children:[e("div",{className:"title",children:t.name}),t.description&&e("div",{className:"description",children:t.description})]})]}),t.notification&&e("div",{className:"settings-notification",children:"1"}),i("div",{className:"setting-value",children:[t.switch&&e(x,{onChange:t.onChange,checked:t.value,disabled:t.disabled??!1}),t.value&&!t.switch&&e("div",{className:"value",children:t.value}),t.options&&e(M,{className:"chevron"})]})]},O))},g))]})]}):e(C,{children:r.length?i(R.div,{...L("right",r.length),className:"animation-container",children:[i("div",{className:"top",children:[i("div",{className:"back",onClick:()=>{S((m==null?void 0:m.page)??[]),E((m==null?void 0:m.name)??"Settings"),f(null),G(null)},children:[e(F,{}),U??s("APPS.SETTINGS.TITLE")]}),i("div",{className:"title",children:[T??s("APPS.SETTINGS.TITLE")," "]}),e("div",{})]}),r.map((p,g)=>e("section",{children:p.map((t,O)=>i("div",{className:"settings-item","data-clickable":!!(t.options||t.onClick),onClick:()=>{var y;if(t.onClick)return t.onClick();t.options&&(S(t.options),E(t.name),(y=t.options)!=null&&y[0]&&f({page:r,name:t.name}))},children:[e("div",{className:"setting",children:i("div",{className:"setting-info",children:[e("div",{className:"title",children:t.name}),t.description&&e("div",{className:"description",children:t.description})]})}),t.notification&&e("div",{className:"settings-notification",children:"1"}),e("div",{className:"setting-value",children:t.input?e(Ke,{defaultValue:t.value,maxLength:t.input.maxLength,onChange:y=>{let w={...o,[t.input.type]:y.target.value};d.Settings.set(w)},onBlur:()=>{t.cb&&t.cb(o[t.input.type],o)}}):i(C,{children:[t.switch&&e(x,{checked:t.value,disabled:t.disabled??!1,onChange:()=>{t.onChange()}}),t.value&&e("div",{className:"value",children:t.isLink?e("a",{onClick:()=>window.invokeNative("openUrl",t.value),children:t.value}):t.value}),t.options&&e(M,{className:"chevron"})]})})]},O))},g))]}):r})})})}export{J as AppContext,as as default};
