import{u as g,r as v,H as f,t as p,v as O,j as i,a as e,m as R,F as m,bD as C,bn as S,L as s,S as I,f as o,bE as T,aN as k,bF as L,bG as U,bH as y,C as G,bI as _,e as V,aF as D,bJ as B,bK as M,bt as F,bL as K,bM as x,bi as X,bu as j,Z as w,q as W,A as Y,b as J}from"./index-569b241b.js";const H={vehicles:[{type:"car",name:"Blista Compact",plate:"49XJL722",model:"Blista Compact",location:"Richman Glen",impounded:!1,locked:!1,statistics:{engine:100,body:100,fuel:100}},{type:"car",name:"Buccaneer",plate:"49XJL723",model:"Buccaneer",location:"Buccaneer Way",impounded:!1,locked:!0,statistics:{engine:87,body:98,fuel:53}},{type:"car",name:"Buffalo",plate:"49XJL724",model:"Buffalo",location:"Grove Street",impounded:!0,locked:!1,statistics:{engine:100,body:100,fuel:100},impoundReason:{reason:"Parking Violation",retrievable:0,price:250,impounder:"Police Department"}}]};function $(){const r=g(Y),[c,t]=v.useState([]),[a,d]=v.useState(null);v.useEffect(()=>{f("Garage")&&p("Garage",{action:"getVehicles"},H.vehicles).then(l=>{if(!l)return O("info","No response from getVehicles");t(l)})},[r==null?void 0:r.active]);const A={car:e(S,{}),boat:e(T,{}),plane:e(k,{}),bike:e(L,{}),truck:e(U,{}),train:e(y,{})};return i("div",{className:"garage-container",style:{backgroundImage:"url(./assets/img/backgrounds/default/apps/garage/2.jpg)"},children:[e(R.div,{animate:{backdropFilter:"blur(10px) brightness(0.75)"},exit:{backdropFilter:"inherit"},transition:{duration:1},className:"blur-overlay"}),e("div",{className:"garage-header",children:a?i(m,{children:[e("div",{className:"title",children:a.model}),e(C,{className:"close",onClick:()=>d(null)})]}):i("div",{className:"title",children:[e(S,{})," ",s("APPS.GARAGE.MY_CARS")]})}),e(R.div,{...I(a?"right":"left",a?"home":"homes",.2),className:"garage-wrapper",children:a?e(q,{Vehicle:[a,d],Vehicles:[c,t]}):i(m,{children:[c.filter(l=>l.location==="out"&&!l.impounded).length>0&&i(m,{children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.OUT"),e(o,{})]}),e("section",{children:c.filter(l=>l.location==="out"&&!l.impounded).map(l=>i("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:A[l.type]}),i("div",{className:"info",children:[e("div",{className:"title",children:l.model}),e("div",{className:"value",children:l.plate})]})]},l.plate))})]}),c.filter(l=>l.location!=="out"&&!l.impounded).length>0&&i(m,{children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.GARAGE"),e(o,{})]}),e("section",{children:c.filter(l=>l.location!=="out"&&!l.impounded).map((l,P)=>i("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:A[l.type]}),i("div",{className:"info",children:[e("div",{className:"title",children:l.model}),i("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]}),c.filter(l=>l.impounded).length>0&&i(m,{children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUNDED"),e(o,{})]}),e("section",{children:c.filter(l=>l.impounded).map((l,P)=>i("div",{className:"item small",onClick:()=>d(l),children:[e("div",{className:"icon blue",children:A[l.type]}),i("div",{className:"info",children:[e("div",{className:"title",children:l.model}),i("div",{className:"value",children:[l.plate," - ",l.location]})]})]},l.plate))})]})]})})]})}const q=({Vehicle:r,Vehicles:c})=>{var P,E,b;const t=g(J),[a,d]=r,[A,l]=c;return i("div",{className:"options-container",children:[i("div",{className:"grid-wrapper",children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.ACTIONS"),e(o,{})]}),i("div",{className:"grid",children:[i("div",{className:"item big",onClick:()=>{G.PopUp.set({title:s("APPS.GARAGE.WAYPOINT_POPUP.TITLE"),description:s("APPS.GARAGE.WAYPOINT_POPUP.TEXT").format({model:a.model}),buttons:[{title:s("APPS.GARAGE.WAYPOINT_POPUP.CANCEL")},{title:s("APPS.GARAGE.WAYPOINT_POPUP.PROCEED"),cb:()=>{p("Garage",{action:"setWaypoint",plate:a.plate})}}]})},children:[e("div",{className:"icon blue",children:e(_,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.LOCATION")}),e("div",{className:"value",children:V(a.location==="out"?s("APPS.GARAGE.OUT"):a.location)})]})]}),a.locked!==void 0&&i("div",{className:"item big","data-active":a.locked,onClick:()=>{var u;G.PopUp.set({title:s("APPS.GARAGE.LOCK_POPUP.TITLE").format({toggle:a.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK")}),description:s("APPS.GARAGE.LOCK_POPUP.TEXT").format({toggle:(u=a.locked?s("APPS.GARAGE.UNLOCK"):s("APPS.GARAGE.LOCK"))==null?void 0:u.toLowerCase()}),buttons:[{title:s("APPS.GARAGE.LOCK_POPUP.CANCEL")},{title:s("APPS.GARAGE.LOCK_POPUP.PROCEED"),cb:()=>{p("Garage",{action:"toggleLocked",plate:a.plate},!a.locked).then(h=>{h!==void 0&&(l(n=>n.map(N=>N.plate===a.plate?{...N,locked:!N.locked}:N)),d(n=>({...n,locked:!n.locked})))})}}]})},children:[e("div",{className:"icon blue",children:e(D,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.STATUS")}),e("div",{className:"value",children:a.locked?s("APPS.GARAGE.LOCKED"):s("APPS.GARAGE.UNLOCKED")})]})]}),((P=t==null?void 0:t.valet)==null?void 0:P.enabled)&&a.location!=="out"&&!a.impounded&&((E=t.valet)==null?void 0:E.vehicleTypes.includes(a.type))&&i("div",{className:"item big",onClick:()=>{G.PopUp.set({title:s("APPS.GARAGE.VALET_POPUP.TITLE"),description:t.valet.price&&t.valet.price>0?s("APPS.GARAGE.VALET_POPUP.TEXT_PAID").format({model:a.model,plate:a.plate,amount:t.valet.price}):s("APPS.GARAGE.VALET_POPUP.TEXT").format({model:a.model,plate:a.plate}),buttons:[{title:s("APPS.GARAGE.VALET_POPUP.CANCEL")},{title:s("APPS.GARAGE.VALET_POPUP.PROCEED"),cb:()=>{p("Garage",{action:"valet",plate:a.plate}).then(u=>{u&&l(h=>h.map(n=>n.plate===a.plate?{...n,location:"out"}:n))})}}]})},children:[e("div",{className:"icon blue",children:e(B,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.SUMMON")}),e("div",{className:"value",children:s("APPS.GARAGE.VALET")})]})]})]})]}),a.statistics&&Object.keys(a.statistics).length>0&&i("div",{className:"grid-wrapper",children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.STATISTICS"),e(o,{})]}),i("div",{className:"grid",children:[a.statistics.fuel&&i("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(M,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.FUEL")}),i("div",{className:"value",children:[a.statistics.fuel,"%"]})]})]}),a.statistics.engine&&i("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(F,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.ENGINE")}),i("div",{className:"value",children:[a.statistics.engine,"%"]})]})]}),a.statistics.body&&i("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(K,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.BODY")}),i("div",{className:"value",children:[a.statistics.body,"%"]})]})]})]})]}),a.impounded&&a.impoundReason&&Object.keys(a.impoundReason).length>0&&i("div",{className:"grid-wrapper",children:[i("div",{className:"subtitle",children:[s("APPS.GARAGE.IMPOUND_INFO"),e(o,{})]}),i("div",{className:"grid",children:[a.impoundReason.reason&&i("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(x,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.REASON")}),e("div",{className:"value",children:a.impoundReason.reason})]})]}),a.impoundReason.impounder&&i("div",{className:"item big",children:[e("div",{className:"icon blue",children:e(X,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.IMPOUNDER")}),e("div",{className:"value",children:a.impoundReason.impounder})]})]}),a.impoundReason.price!==void 0&&i("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(j,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.PRICE")}),e("div",{className:"value",children:(b=t==null?void 0:t.CurrencyFormat)==null?void 0:b.replace("%s",a.impoundReason.price.toString())})]})]}),a.impoundReason.retrievable&&i("div",{className:"item small",children:[e("div",{className:"icon blue",children:e(w,{})}),i("div",{className:"info",children:[e("div",{className:"title",children:s("APPS.GARAGE.IMPOUND_REASON.RETRIEVABLE")}),e("div",{className:"value",children:W(a.impoundReason.retrievable)})]})]})]})]})]})};export{$ as default};
